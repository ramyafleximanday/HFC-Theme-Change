@{
    ViewBag.Title = "Hold";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="@Url.Content("~/Content/themes/base/jquery-ui.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/Rmax_Site.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.min.js")" type="text/javascript"></script>
<style>
    table, th, td {
        white-space: nowrap;
    }
</style>
<div class="pageHeadingLayout">
    <span class="pageHeading">Prepaid Extension</span>
    </div>
    <div class="well">
        <table class="myTableStyleTabNew" style="width:100%;">
            <tr>
                <td width="25%" style="padding: 0px 10px">
                    ARF From
                    <br />
                    <input type="text"
                           id="txtArfFromDate"
                           class="fstextbox datePicker"
                           onkeypress="return isEvent(event)" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    ARF To
                    <br />
                    <input type="text"
                           id="txtArfToDate"
                           class="fstextbox datePicker"
                           onkeypress="return isEvent(event)" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    ARF No
                    <br />
                    <input type="text"
                           id="txtArfNumber"
                           maxlength="25"
                           class="fstextbox" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    ARF Amount
                    <br />
                    <input type="text"
                           id="txtArfAmount"
                           maxlength="15"
                           class="fstextbox"
                           @*onkeypress="return isNumberKey(event)"*@ />
                </td>
            </tr>
            <tr>
                <td width="25%" style="padding: 0px 10px">
                    Liquidation From
                    <br />
                    <input type="text"
                           id="txtLiqFromDate"
                           class="fstextbox"
                           onkeypress="return isEvent(event)" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    Liquidation To
                    <br />
                    <input type="text"
                           id="txtLiqToDate"
                           class="fstextbox"
                           onkeypress="return isEvent(event)" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    Type
                    <br />
                    <select id="ddlType" class="fstextbox" data-bind="options: DocumentTypeArray, optionsText: 'Text', optionsValue:'Id', optionsCaption:'- Select One -'"></select>
                </td>
                <td width="25%" style="padding: 0px 10px">
                    PayMode
                    <br />
                    <select id="ddlPayMode" class="fstextbox" data-bind="options: PaymentModeArray, optionsText: 'Text', optionsValue:'Id', optionsCaption:'- Select One -'"></select>
                </td>
            </tr>
            <tr>
                <td width="25%" style="padding: 0px 10px">
                    Employee Code
                    <br />
                    <input type="hidden" id="hdfEmpCode" value="0" />
                    <input type="text"
                           id="txtEmpCode"
                           class="fstextbox" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    Employee Name
                    <br />
                    <input type="hidden" id="hdfEmpName" value="0" />
                    <input type="text"
                           id="txtEmpName"
                           class="fstextbox" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    Supplier Code
                    <br />
                    <input type="hidden" id="hdfSupplierCode" value="0" />
                    <input type="text"
                           id="txtSupplierCode"
                           class="fstextbox" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    Supplier Name
                    <br />
                    <input type="hidden" id="hdfSupplierName" value="0" />
                    <input type="text"
                           id="txtSupplierName"
                           class="fstextbox" />
                </td>
            </tr>
            <tr>
                <td width="25%" style="padding: 0px 10px">
                    Raiser Code
                    <br />
                    <input type="hidden" id="hdfRaiserCode" value="0" />
                    <input type="text"
                           id="txtRaiserCode"
                           class="fstextbox" />
                </td>
                <td width="25%" style="padding: 0px 10px">
                    Raiser Name
                    <br />
                    <input type="hidden" id="hdfRaiserName" value="0" />
                    <input type="text"
                           id="txtRaiserName"
                           class="fstextbox" />
                </td>
                <td colspan="2" width="50%" style="padding: 0px 10px; vertical-align:bottom; text-align:right;">
                    <button class="btn btn-primary" accesskey="q" type="button" data-bind="click: $root.Search" style="margin-top:10px;  color:white;">
                        <span style="color:white;" class="glyphicon glyphicon-search"></span>
                        Search
                    </button>
                    <button class="btn btn-primary" accesskey="c" type="button" data-bind="click: $root.Clear" style="margin-top:10px; padding:5px 10px; font-size:12px; color:white;">
                        <span style="color:white;" class="glyphicon glyphicon-refresh"></span>
                        Clear
                    </button>
                </td>
            </tr>
        </table>
        <div class="table-responsive" style="width:100%; margin-top: 15px;">
            <table id="gv" class="tableSmall table-bordered table-hover" data-bind="visible: DetailArray().length > 0">
                <thead>
                    <tr>
                        <th style="width:5%; min-width:50px;">
                            SLNo
                        </th>
                        <th style="width:10%; min-width:100px;" class="colDate">
                            ARF Date
                        </th>
                        <th style="width:10%; min-width:100px;">
                            ARF No
                        </th>
                        <th style="width:10%; min-width:120px;">
                            Type
                        </th>
                        <th style="width:16%; min-width:200px;">
                            Supplier/Employee Name
                        </th>
                        <th style="width:10%; min-width:100px;">
                            PayMode
                        </th>
                        <th style="width:10%; min-width:100px;" class="colDate">
                            Liquidation Date
                        </th>
                        <th style="width:10%; min-width:100px;">
                            ARF Amount
                        </th>
                        <th style="width:10%; min-width:100px;">
                            OutStanding Amount
                        </th>
                        <th style="width:9%; min-width:80px;" class="nosort">
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody data-bind="foreach:{ data: DetailArray, afterRender: DatatableCall }, visible: DetailArray().length > 0">
                    <tr>
                        <td align="center">
                            <span data-bind="text: SlNo"></span>
                        </td>
                        <td align="center">
                            <span data-bind="text: ARFDate"></span>
                        </td>
                        <td>
                            <span data-bind="text: ARFNo"></span>
                        </td>
                        <td>
                            <span data-bind="text: EmployeeSupplierType"></span>
                        </td>
                        <td>
                            <span data-bind="text: EmployeeSupplierName"></span>
                        </td>
                        <td>
                            <span data-bind="text: PayMode"></span>
                        </td>
                        <td align="center">
                            <span data-bind="text: LiquidationDate"></span>
                        </td>
                        <td align="right">
                            <span data-bind="text: $root.formatNumber(ARFAmount)"></span>
                        </td>
                        <td align="right">
                            <span data-bind="text: $root.formatNumber(OutStandingAmount)"></span>
                        </td>
                        <td align="center">
                            <span style="cursor:pointer;" title="Extend" data-bind="click: $root.Extend"><span style="color: blue;">Extend</span></span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div style="display:none;" id="ShowDg">
        <input type="hidden" id="hdfId" value="0" />
        <table class="myTableStyleTabNew" style="width:100%;">
            <tr>
                <td colspan="3">
                    <span style="color: rgb(29, 76, 209); font-weight: bold; font-size: 12px;">Prepaid Extention</span>
                </td>
            </tr>
            <tr>
                <td style="width:33%; padding:0px 5px;">
                    <span>ARF Date</span>
                    <br />
                    <label id="lblArfDate" class="lblFrom"></label>
                </td>
                <td style="width:33%; padding:0px 5px;">
                    <span>ARF No</span>
                    <br />
                    <label id="lblArfNo" class="lblFrom"></label>
                </td>
                <td style="width:33%; padding:0px 5px;">
                    <span>Type</span>
                    <br />
                    <label id="lblType" class="lblFrom"></label>
                </td>
            </tr>
            <tr>
                <td style="width:33%; padding:0px 5px;">
                    <span>Pay Mode</span>
                    <br />
                    <label id="lblPayMode" class="lblFrom"></label>
                </td>
                <td colspan="2" style="width:66%; padding:0px 5px;">
                    <span>Supplier/Employee</span>
                    <br />
                    <label id="lblSupplierEmployee" class="lblFrom"></label>
                </td>
            </tr>
            <tr>
                <td style="width:33%; padding:0px 5px;">
                    <span>ARF Amount</span>
                    <br />
                    <label id="lblArfAmt" class="lblFrom"></label>
                </td>
                <td style="width:33%; padding:0px 5px;">
                    <span>OutStanding Amount</span>
                    <br />
                    <label id="lblOutStandingAmt" class="lblFrom"></label>
                </td>
                <td style="width:33%; padding:0px 5px;">
                    <span>Liquidation Date</span>
                    <br />
                    <label id="lblliquidationDate" class="lblFrom"></label>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <span style="color: rgb(29, 76, 209); font-weight: bold; font-size: 12px;">Extend Liquidation Date</span>
                </td>
            </tr>
            <tr>
                <td colspan="2" style="width:66%; padding:0px 5px;">
                    New Liquidation Date
                    <br />
                    <input type="text"
                           id="txtLiquidationDate"
                           class="fstextbox required"
                           onkeypress="return isEvent(event)" />
                </td>
                <td style="width:33%; padding:0px 5px;">
                    <span>Attachment</span>
                    <br />
                    <form id="uploaderForm">
                        <input type="file" style="width: 95%;padding-top: 5px;" id="attUploader" class="attUploader" name="UploadFile" />
                    </form>
                </td>
            </tr>
            <tr>
                <td nowrap="nowrap" colspan="3" style="width:100%; padding:0px 5px;">
                    Remarks
                    <br />
                    <input type="text"
                           id="txtRemarks"
                           class="textboxStyleBig required" />
                </td>
            <tr>
                <td colspan="3" style="width:100%; padding:0px 5px; text-align:center;">
                    <br />
                    <button type="button" accesskey="s" id="btnSubmit" class="btn btn-primary" data-bind="click: $root.Update">
                        <span class="glyphicon glyphicon-save" style="color:white;"></span>
                        Submit
                    </button>
                </td>
            </tr>
        </table>
    </div>
<script>
    var UrlDet = "@Url.Action("FetchPrepaidExtension", "PrepaidExtension")"
    var UrlHelper = "@Url.Action("GetAutoCompleteCourier", "Helper")"
</script>
    <script src="@Url.Content("~/Areas/FLEXISPEND/FS_UserScript/jsPrepaidExtension.js")" type="text/javascript"></script>
