@{
    ViewBag.Title = "Viewdata";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="@Url.Content("~/Content/themes/base/jquery-ui.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/Rmax_Site.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    var currentTab = 0;
    $(function () {
        $("#tabsmaindash").tabs({
            select: function (e, i) {
                currentTab = i.index;
            }
        });
    });
    function testDecimals(currentval) {
        var count;
        currentval.match(/\./g) === null ? count = 0 : count = currentval.match(/\./g);
        return count;
    }
    function replaceCommas(yourNumber) {
        var components = yourNumber.toString().split(".");
        if (components.length === 1)
            components[0] = yourNumber;
        components[0] = components[0].replace(/\D/g, "").replace(/(\d)(?=(\d\d)+\d$)/g, "$1,");
        if (components.length === 2)
            components[1] = components[1].replace(/\D/g, "");
        return components.join(".");
    }
</script>
@if (@ViewBag.doctype == "ECRegular")
{
    <div class="pageHeadingLayout">
        <span class="pageHeading">Employee Claim - Regular Approval</span>
    </div>
}
@if (@ViewBag.doctype == "ECTravel")
{
    <div class="pageHeadingLayout">
        <span class="pageHeading">Employee Claim - Travel Approval</span>
    </div>
}
@if (@ViewBag.doctype == "ECLocal")
{
    <div class="pageHeadingLayout">
        <span class="pageHeading">Employee Claim - Local Coveyance Approval</span>
    </div>
}
@if (@ViewBag.doctype == "EcfSupplierDSA")
{
    <div class="pageHeadingLayout">
        <span class="pageHeading">Supplier Invoice - DSA Approval</span>
    </div>
}
@if (@ViewBag.doctype == "EcfSupplier")
{
    <div class="pageHeadingLayout">
        <span class="pageHeading">Supplier Invoice Approval</span>
    </div>
}
@if (@ViewBag.doctype == "Arf")
{
    <div class="pageHeadingLayout">
        <span class="pageHeading">Advance Request Approval</span>
    </div>
}
@if (@ViewBag.doctype == "Insurance")
{
    <div class="pageHeadingLayout">
        <span class="pageHeading">Insurance Request Approval</span>
    </div>
}


@if (@ViewBag.doctype == "Insuranceadvance")
{
    <div class="pageHeadingLayout">
        <span class="pageHeading">Advance Insurance Request Approval</span>
    </div>
}

<div class="well" style=" padding-top: 1px;font-size:12px;">
    <div id="processworking">
        @if (@ViewBag.frst == "Others")
        {
            <fieldset>

                <div style="padding:0;margin:0;">
                    @Html.Partial("EmployeeClaimFristv")
                </div>

            </fieldset>
        }
        @if (@ViewBag.frst == "Othersarf")
        {
            <fieldset>

                <div style="padding:0;margin:0;">
                    @Html.Partial("EmployeeClaimFristarfv")
                </div>

            </fieldset>
        }
        @if (@ViewBag.frst == "Suppliers")
        {
            <fieldset>

                <div style="padding:0;margin:0;">
                    @Html.Partial("_supplierFristv")
                </div>

            </fieldset>
        }
        <br />
        <div id="tabsmaindash" style="font-size:12px">
            <ul>
                @if (@ViewBag.doctype == "ECRegular")
                {
                            @*<li><a href="#tabsmaindash-3">Expense Details</a></li>
                                <li><a href="#tabsmaindash-4">Payment Details</a></li>*@

                            <li><a href="#tabsmainNontravel-1">Invoice Details</a></li>

                }
                @if (@ViewBag.doctype == "ECTravel")
                {
                            @*<li><a href="#tabsmaindash-5">Travel Details </a></li>
                                <li><a href="#tabsmaindash-8">Employee List Details</a></li>*@
                            @*<li><a href="#tabsmaindash-6">Other Travel Expense </a></li>*@
                            @*<li><a href="#tabsmaindash-7">Payment Details</a></li>*@

                            <li><a href="#tabsmaintravel-1">Invoice Details</a></li>

                }
                @if (@ViewBag.doctype == "ECLocal")
                {
                    <li><a href="#tabsmaindash-9">Expense Details</a></li>
                    <li><a href="#tabsmaindash-10">Payment Details</a></li>
                }
                @if (@ViewBag.doctype == "EcfSupplierDSA")
                {
                    <li><a href="#tabsmaindash-11">Invoice Details</a></li>
                    @*<li><a href="#tabsmaindash-12">Expense Details</a></li>*@
                    <li><a href="#tabsmaindash-13">Payment Details</a></li>
                }
                @if (@ViewBag.doctype == "EcfSupplier" || @ViewBag.doctype == "Insurance")
                {
                    <li><a href="#tabsmaindash-14">Invoice Summary</a></li>
                }
                @if (@ViewBag.doctype == "Arf" || @ViewBag.doctype == "Insuranceadvance")
                {
                    <li><a href="#tabsmaindash-15">Advance Details</a></li>
                    <li><a href="#tabsmaindash-16">Payment Details</a></li>
                }
                <li><a href="#tabsmaindash-17">Attachment Details</a></li>
                <li><a href="#tabsmaindash-18"> Audit Trail </a></li>
            </ul>

            @*@if (@ViewBag.frst == "Others")
                {
                    <div id="tabsmaindash-1" style="padding: 10px 4px 3px 15px">
                        @Html.Partial("EmployeeClaimFristv")
                    </div>
                }
                @if (@ViewBag.frst == "Suppliers")
                {
                    <div id="tabsmaindash-2" style="padding: 10px 4px 3px 15px">
                        @Html.Partial("_supplierFristv")
                    </div>
                }*@
            @if (@ViewBag.doctype == "ECRegular")
            {
                        <div id="tabsmainNontravel-1" style="padding: 10px 4px 3px 15px">
                            @Html.Partial("_EmpInvoiceDetails")
                        </div>
                    

                        @*<div id="tabsmaindash-4" style="padding: 10px 4px 3px 15px">
                                <br />  @Html.Partial("_EmpPaymentDetailsv")<br />
                            </div>*@
            }
            @if (@ViewBag.doctype == "ECTravel")
            {

                        <div id="tabsmaintravel-1" style="padding: 10px 4px 3px 15px">
                            @Html.Partial("_EmpInvoiceDetails")
                        </div>

                        @*<div id="tabsmaindash-5" style="padding: 10px 4px 3px 15px">
                                <br />  @Html.Partial("_TravelModeDetailsv")<br />
                            </div>*@
                        @*<div id="tabsmaindash-6" style="padding: 10px 4px 3px 15px">
                                <br />   @Html.Partial("_OtherTravelExpenseDetailsv")<br />
                            </div>*@

                        @*<div id="tabsmaindash-7" style="padding: 10px 4px 3px 15px">
                                <br />    @Html.Partial("_EmpPaymentDetailsv")<br />
                            </div>*@

            }
            @if (@ViewBag.doctype == "ECLocal")
            {
                <div id="tabsmaindash-9" style="padding: 10px 4px 3px 15px">
                    <br />  @Html.Partial("_LocalExpense")<br />
                </div>
                <div id="tabsmaindash-10" style="padding: 10px 4px 3px 15px">
                    <br />    @Html.Partial("_LocalPaymentv")<br />
                </div>
            }
            @if (@ViewBag.doctype == "EcfSupplierDSA")
            {
                <div id="tabsmaindash-11" style="padding: 10px 4px 3px 15px">
                    <br />    @Html.Partial("_SupplierDSAInvoicev")<br />
                </div>
                @*<div id="tabsmaindash-12" style="padding: 10px 4px 3px 15px">
                        <br />     @Html.Partial("_SupplierDSAExpensev")<br />
                    </div>*@
                <div id="tabsmaindash-13" style="padding: 10px 4px 3px 15px">
                    <br />    @Html.Partial("_SupplierDSAPaymentv")<br />
                </div>
            }
            @if (@ViewBag.doctype == "EcfSupplier" || @ViewBag.doctype == "Insurance")
            {
                <div id="tabsmaindash-14" style="padding: 10px 4px 3px 15px">
                    <br />   @Html.Partial("_suppliersummaryv")<br />
                </div>
            }
            @if (@ViewBag.doctype == "Arf" || @ViewBag.doctype == "Insuranceadvance")
            {
                <div id="tabsmaindash-15" style="padding: 10px 4px 3px 15px">
                    <br />    @Html.Partial("advancegrid")<br />
                </div>
                <div id="tabsmaindash-16" style="padding: 10px 4px 3px 15px">
                    <br />     @Html.Partial("paygrid")<br />
                </div>
            }
            <div id="tabsmaindash-17" style="padding: 10px 4px 3px 15px">
                @Html.Partial("_EmpAttachmentv")<br />
            </div>
            <div id="tabsmaindash-18" style="padding: 10px 4px 3px 15px">
                <br />   @Html.Partial("_EmpAuditTraileall")<br />
            </div>
        </div>
    </div>
    <br />
    @if (Session["docAppoalc"] == "docAppoalc" || Session["Proxyemployee_gid"] != null)
    {
        <div style="height: 80px; width: 100%; padding-top: 15px; padding-right: 50px">
            <table style=" width: 100%; ">
                <tr>
                    <td align="right">
                        <button type="button" id="btnCancelfinalapp" title="Cancel" name="Back" class="btn btn-warning" onclick="SaveCanceldashapp()"><span style="color:white;font-size: 11px;" class="glyphicon glyphicon-remove-sign"></span>Back</button>
                    </td>
                </tr>
            </table>
        </div>
    }
    else
    {
        <fieldset>
            <legend> Approver Action</legend>
            @if (@ViewBag.ApproverAction == "C")
            {
                <div style="padding: 0px 0px 0px 30px;">
                    @Html.Partial("_EmpApproverActionConcurrent")
                </div>
            }
            else if (@ViewBag.ApproverAction == "CT")
            {
                <div style="padding: 0px 0px 0px 30px;">
                    @Html.Partial("_EmpApproverActionCentralteam")
                </div>
            }
            else if (@ViewBag.ApproverAction == "CTMKR")
            {
                <div style="padding: 0px 0px 0px 30px;">
                    @Html.Partial("_EmpApproverActionCTMaker")
                </div>
            }
            else
            {
                <div style="padding: 0px 0px 0px 30px;">
                    @Html.Partial("_EmpApproverAction")
                </div>
            }
        </fieldset>
    }
</div>

<div id="ForPartialViewexpdetails"></div>
<div id="ForPartialViewExpenseglno"></div>
<script type="text/javascript">
    $(document).keydown(function (e) {
        if (e.keyCode == 8 && e.target.tagName != 'INPUT' && e.target.tagName != 'TEXTAREA')
            e.preventDefault();
    });
    var objDialogexpdetails;
    $(document).ready(function () {
        objDialogexpdetails = $("[id$='ForPartialViewexpdetails']");
        objDialogexpdetails.dialog({
            autoOpen: false,
            cache: false,
            modal: true,
            show: 'fade-in',
            close: 'fade-out',
            title: 'View Expense Details ',
            width: '95%',
            height: 500
        });
    });
    var objDialogExpenseglno;
    $(document).ready(function () {
        objDialogExpenseglno = $("[id$='ForPartialViewExpenseglno']");
        objDialogExpenseglno.dialog({
            autoOpen: false,
            cache: false,
            modal: true,
            show: 'fade-in',
            close: 'fade-out',
            width: '97%',
            height: 325
        });
    });
</script>
<script>
    function SaveCanceldashapp() {
        location = '../DashBoard/index';
        //location = '@Url.Action("index", "DashBoard")';
    }
    function EmpExpensedetailsView(id) {
        var urlE = '@Url.Action("_ExpensedetailsView", "LocalConveyanceNew")?id=' + id + '&viewfor=edit&?' + new Date().getTime();;
        objDialogexpdetails.load(urlE);
        objDialogexpdetails.dialog({ title: 'View Expense Details' });
        objDialogexpdetails.dialog("open");
    }
    function EmpExpensedetailsViewdsa(id) {
        var urlE = '@Url.Action("_ExpensedetailsViewdsa", "SupplierInvoiceDSA")?id=' + id + '&viewfor=edit&?' + new Date().getTime();;
        objDialogexpdetails.load(urlE);
        objDialogexpdetails.dialog({ title: 'View Expense Details' });
        objDialogexpdetails.dialog("open");
    }
    function EmpExpenseglno(id) {
        var url = '@Url.Action("debitlinegldetails", "EmployeeClaimNew")?id=' + id + '&types=D&' + new Date().getTime();
        objDialogExpenseglno.load(url);
        objDialogExpenseglno.dialog({ title: 'View GL Details' });
        objDialogExpenseglno.dialog("open");
    }
    function EmpExpenseglnot(id) {
        var url = '@Url.Action("debitlinegldetails", "EmployeeClaimNew")?id=' + id + '&types=T&' + new Date().getTime();
        objDialogExpenseglno.load(url);
        objDialogExpenseglno.dialog({ title: 'View GL Details' });
        objDialogExpenseglno.dialog("open");
    }
</script>


