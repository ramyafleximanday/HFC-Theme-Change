@{
   
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="@Url.Content("~/Content/themes/base/jquery-ui.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/Rmax_Site.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.min.js")" type="text/javascript"></script>
<style>
    table, th, td {
        white-space: nowrap;
    }
</style>
<div class="pageHeadingLayout">
    <span class="pageHeading">CBF Report</span>
</div>

<div>
    <table class="myTableStyleTabNew" style="width:100%;">
        <tr>
            @*<td style="width:25%; padding:0px 10px 0px 3px;">
                <span>CBF No</span>
                <br />
                <input type="text" id="txtcbfno" class="fstextbox" />
            </td>*@
            <td>
                <input type="hidden" id="txtcbfno" class="fstextbox" />
            </td>
            <td style="width:25%; padding:0px 10px 0px 3px;">
                <span>From Date</span>
                <br />
                <input type="text" class="textboxStyle" placeholder="dd-mm-yyyy" title="dd-mm-yyyy" name="txtFrom" id="txtFrom" />
            </td>
            <td style="width:25%; padding:0px 10px 0px 3px;">
                <span>To Date</span>
                <br />
                <input type="text" class="textboxStyle" placeholder="dd-mm-yyyy" title="dd-mm-yyyy" name="txtto" id="txtto" />
            </td>
            <td style="width:75%; padding:0px; vertical-align:bottom;">
                <button class="btn btn-primary" data-bind="click:$root.search" style="color:white;">
                    <span style="color:white; font-size:12px;" class="glyphicon glyphicon-search"></span>
                    Search
                </button>
                <button class="btn btn-primary" data-bind="click: $root.clearFilter" style="color:white;">
                    <span style="color:white; font-size:12px;" class="glyphicon glyphicon-refresh"></span>
                    Clear
                </button>
                <button class="btn btn-success" id="btnExporExcel" data-bind="visible: ResultArray().length > 0, click: $root.Download" style="color:white;">
                    <span style="color:white; font-size:12px;" class="glyphicon glyphicon-export"></span>
                    Export to Excel
                </button>
            </td>
        </tr>
    </table>
    <div style="width:100%; overflow:auto; height:100%; margin-top: 15px;">
        <table class="tableSmall table-bordered table-hover table-responsive" id="gvReport" data-bind="visible: ResultArray().length > 0">
            <thead>
                <tr>
                    <th style="width:4%; min-width:50px; max-width:100%;">
                        SlNo
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                        CBF NO
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                       CBF Mode
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                       CBF Desc
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                       CBF Amount
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                        CBF Date
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                        Po NO
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                        Po Date
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                        Po Amount
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                       CBF Utilites Amount
                    </th>
                    <th style="width:8%; min-width:120px; max-width:100%;">
                       CBF Balance Amount
                    </th>
                </tr>
            </thead>
            <tbody data-bind="foreach:{ data: ResultArray, afterRender: DatatableCall }">
                <tr>
                    <td align="center">
                        <span data-bind="text: SlNo"></span>
                    </td>
                    <td>
                        <span data-bind="text: CBF_No"></span>
                    </td>
                    <td>
                        <span data-bind="text: CBF_Mode"></span>
                    </td>
                    <td>
                        <span data-bind="text: CBF_Desc"></span>
                    </td>
                    <td>
                        <span data-bind="text: CBF_Amount"></span>
                    </td>
                    <td>
                        <span data-bind="text: CBF_Date"></span>
                    </td>
                    <td>
                        <span data-bind="text: Po_No"></span>
                    </td>
                    <td>
                        <span data-bind="text: Po_Date"></span>
                    </td>
                    <td>
                        <span data-bind="text: PO_Amount"></span>
                    </td>
                    <td>
                        <span data-bind="text: CBF_UtilitAmount"></span>
                    </td>
                    <td>
                        <span data-bind="text: CBF_BalAmount"></span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var pickerOpts = {
            changeMonth: true,
            changeYear: true,
            yearRange: '1950:2100',
            currentText: "Now",
            dateFormat: "dd-mm-yy"
        };
        $("#txtFrom").datepicker(pickerOpts);
        $("#txtto").datepicker(pickerOpts);
    });
</script>
<script src="@Url.Content("~/Areas/FLEXIBUY/FS_UserScript/jsReportCBF.js")" type="text/javascript"></script>