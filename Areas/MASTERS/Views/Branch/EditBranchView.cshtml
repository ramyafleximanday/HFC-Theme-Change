@model IEM.Areas.MASTERS.Models.BranchDataModel

<link href="@Url.Content("~/Content/RMchosen/chosen.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/RMScript/chosen.jquery.js")" type="text/javascript"></script> 

<link href="@Url.Content("~/Content/themes/base/jquery-ui.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.24.min.js")" type="text/javascript"></script>
@using (Html.BeginForm())
{<style type="text/css">
 .add{
      width: 100%;
    height: 35px;
    font-weight: normal;
    padding: 4px 8px;
    font-size: 13px;
    line-height: 1.42857143;
    /*color: #555;*/
    color: black;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
    -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
 }
</style>
    @Html.ValidationSummary(true)
    <div class="well">
        <div class="row">
            <table class="myTableStyleTabNew" align="left" style="width:99%">
                <tr>
                    <td>
                        <div class="input-append ">
                            <span>Branch Code</span>
                            <br />
                            <input type="text"
                                   name="BranchCode"
                                   id="BranchCodeId"
                                   value="@ViewBag.BranchCode"
                                   class="textboxStyleSearch valid"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                    </td>
                    <td colspan="2">
                        <div class="input-append ">
                            <span>Branch Name</span>
                            <br />
                            <input type="text"
                                   name="BranchName"
                                   id="BranchNameId"
                                   value="@ViewBag.BranchName"
                                   class="textboxStyleSearch valid"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                    </td>
                    <td>
                        <div class="input-append ">
                            <span>Branch Type</span>
                            <br />
                            <input type="text"
                                   name="BranchType"
                                   id="BranchTypeId"
                                   value="@ViewBag.BranchType"
                                   class="textboxStyleSearch valid"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                        @*<span>Branch Type</span>
                            <br />
                            @Html.DropDownList("cnm", (IEnumerable<SelectListItem>)ViewBag.BranchType, "-----Select-----", new { @class = "textboxStyleSearch valid", @style = "display: block;width:100%;", @id = "BranchTypeId", @Name = "BranchType", disabled = "disabled" })*@
                    </td>
                    <td>
                        <div class="input-append ">
                            <span>Branch Tier</span>
                            <br />
                            <input type="text"
                                   name="BranchTier"
                                   id="BranchTier"
                                   value="@ViewBag.BranchTier"
                                   class="textboxStyleSearch valid"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="input-append ">
                            <span>Old Branch Code</span>
                            <br />
                            <input type="text"
                                   name="OldBranchCode"
                                   id="OldBranchCode"
                                   value="@ViewBag.OldBranchCode"
                                   class="textboxStyleSearch"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                    </td>
                    <td style="display:none;">
                        <span>Employee Id</span>
                        <br />
                        <input type="text"
                               name="EmployeeId"
                               id="EmployeeId"
                               value="@ViewBag.EmployeeId"
                               class="textboxStyleSearch valid"
                               maxlength="32"
                               readonly="readonly"
                               style="width: 100%;" />
                    </td>
                    <td colspan="2">
                        <span>Branch Incharge</span>
                        <br />
                        <input type="text"
                               name="BranchIncharge"
                               id="BranchIncharge"
                               value="@ViewBag.BranchIncharge"
                               class="textboxStyleSearch valid"
                               maxlength="32"
                               readonly="readonly"
                               style="width: 100%;" />
                    </td>
                    @*<td style="width:3%">
                            <span>&nbsp;</span>
                            <br />
                            <a title="Search"><span class="glyphicon glyphicon-search" id="Searchicon" onclick="EmployeeSearchBranch()"></span></a>
                        </td>*@
                    <td>
                        <div class="input-append ">
                            <span>Start Date</span>
                            <br />
                            <input type="text"
                                   name="StartDate"
                                   id="StartDate"
                                   value="@ViewBag.StartDate"
                                   class="textboxStyleSearch valid"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                    </td>
                    <td>
                        <div class="input-append ">
                            <span>End Date</span>
                            <br />
                            <input type="text"
                                   name="EndDate"
                                   id="EndDate"
                                   value="@ViewBag.EndDate"
                                   class="textboxStyleSearch valid"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                    </td>

                </tr>
                <tr>
                    <td>
                        @*<span>Branch</span>
                            <br />*@
                        @*@Html.DropDownList("cnm", (IEnumerable<SelectListItem>)ViewBag.Branch, "-----Select-----", new { @class = "textboxStyleSearch valid", @style = "display: block;width: 100%;", @id = "BranchId", @Name = "Branch", disabled = "disabled" })*@
                        <div class="input-append ">
                            <span>Branch</span>
                            <br />
                            <input type="text"
                                   name="Branch"
                                   id="Branch"
                                   value="@ViewBag.Branch"
                                   class="textboxStyleSearch valid"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                    </td>
                    <td colspan="2">
                        <span>City</span>
                        <br />
                        <input type="text"
                               name="City"
                               id="City"
                               value="@ViewBag.City"
                               class="textboxStyleSearch valid"
                               maxlength="32"
                               readonly="readonly"
                               style="width: 100%;" />
                        <input type="text"
                               name="City_gid"
                               id="City_gid"
                               value="@ViewBag.City_gid"
                               class="textboxStyleSearch valid"
                               maxlength="32"
                               readonly="readonly"
                               style="width: 100%; visibility:hidden;" />
                        @*<span>City</span>
                            <br />
                            @Html.DropDownList("cnm", (IEnumerable<SelectListItem>)ViewBag.City, "-----Select-----", new { @class = "textboxStyleSearch valid", @style = "display: block;width: 100%;", @id = "CityId", @Name = "City", disabled = "disabled" })*@
                    </td>

                    <td>
                        <span>Location</span>
                        <br />
                        @Html.DropDownList("cnm", (IEnumerable<SelectListItem>)ViewBag.location, "-----Select-----", new { @class = "textboxStyleSearch valid", @style = "display: block;width: 100%;", @id = "locationId", @Name = "location" })
                    </td>

                    <td>
                        @*<span>Active Status</span>
                            <br />
                            @Html.DropDownList("cnm", (IEnumerable<SelectListItem>)ViewBag.ActiveStatus, "-----Select-----", new { @class = "textboxStyleSearch valid", @style = "display: block;width: 100%;", @id = "ActiveStatusId", @Name = "ActiveStatus", disabled = "disabled" })*@
                        <div class="input-append ">
                            <span>Active Status</span>
                            <br />
                            <input type="text"
                                   name="ActiveStatus"
                                   id="ActiveStatus"
                                   value="@ViewBag.ActiveStatus"
                                   class="textboxStyleSearch valid"
                                   maxlength="32"
                                   readonly="readonly"
                                   style="width: 100%;" />
                        </div>
                    </td>

                </tr>
                <tr>
                    <td>
                        <span>StartLeaseDate</span>
                        <br />
                        <input type="text"
                               name="StartLeaseDate"
                               id="txtStartLeaseDate"
                               value="@ViewBag.StartLeaseDate"
                               class="textboxStyleSearch valid"
                               style="width: 100%;" />
                    </td>
                    <td>
                        <span>EndLeaseDate</span>
                        <br />
                        <input type="text"
                               name="EndLeaseDate"
                               id="txtEndLeaseDate"
                               value="@ViewBag.EndLeaseDate"
                               class="textboxStyleSearch valid"
                               style="width: 100%;" />
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="5">
                        <div class="input-append ">
                            <span>Branch Address</span>
                            <br />
                            <input type="text"
                                   name="BranchAddress"
                                   id="BranchAddress"
                                   value="@ViewBag.BranchAddress"
                                   class="add valid"  
                                                              
                                   style="width: 100%;" />
                        </div>
                    </td>
                </tr>
                <tr>
                   
                    <td>
                        <span>Pin Code</span>
                        <br />

                        @* @Html.DropDownListFor(s =>s.pincode_code , Model.GetPincode, "--Select Pincode--", new { @class = "fstextbox  chosen-select", @style = "display: block; ", @id = "Pincode_id", @onchange = "checkpin()" })*@

                        <select name="Pincode_id" id="Pincode_id" class="fstextbox chosen-select" @ViewBag.PinCode onchange="checkpin()" style="display: block;">
                            <option value="0">Select</option>
                            @*@foreach (var pitem in Model.GetPincode)
                    {
                        var childitemfilter = Model.GetPincode.Where(m => m.Text == pitem.Text);
                        if (childitemfilter != null)
                        {
                            foreach (var citem in childitemfilter)
                            {
                                string selectedValueddel = "";
                                if (ViewBag.PinCode.ToString() == citem.Text)
                                {
                                    selectedValueddel = "selected='selected'";
                                }
                                <option value="@citem.Value" @selectedValueddel>@citem.Text</option>
                            }
                        }
                    }*@

                            @foreach (var pitem in Model.GetPincode)
                            {
                                string selectedValueddel = "";
                                if (ViewBag.PinCode.ToString() == pitem.Text)
                                {
                                    selectedValueddel = "selected='selected'";
                                }
                                <option value="@pitem.Value" @selectedValueddel>@pitem.Text</option>
                                @*}
                        }*@
                            }
                        </select>
                    </td>
                    <td>
                        <span>District</span>
                        <br />
                        <input type="text"
                               name="txtdistrict"
                               id="txtdistrict"
                               value="@ViewBag.District"
                               readonly="readonly"
                               class="textboxStyleSearch valid"
                               style="width: 100%;" />
                    </td>
                    <td>
                        <span>State</span>
                        <br />
                        <input type="text"
                               name="txtstate"
                               id="txtstate"
                               value="@ViewBag.state"
                               readonly="readonly"
                               class="textboxStyleSearch valid"
                               style="width: 100%;" />
                    </td>
                    <td>
                        <span>GST TIN</span>
                        <br />
                        <input type="text"
                               name="txtgsttin"
                               id="txtgsttin"
                               readonly="readonly"
                               value="@ViewBag.gstin"
                               class="textboxStyleSearch valid"
                               style="width: 100%;" />
                    </td>
                </tr>
                <tr>
                   
                </tr>
                <tr>
                    <td>
                        <input type="text"
                               name="txtdistrict_gid"
                               id="txtdistrict_gid"
                               value="@ViewBag.District_gid"
                               readonly="readonly"
                               class="textboxStyleSearch valid"
                               style="width: 100%;visibility:hidden;" />
                    </td>
                    <td>
                        <input type="text"
                               name="txtstate_gid"
                               id="txtstate_gid"
                               value="@ViewBag.state_gid"
                               readonly="readonly"
                               class="textboxStyleSearch valid"
                               style="width: 100%;visibility:hidden;" />
                    </td>
                    <td>
                        <input type="text"
                               name="txtpincode"
                               id="txtpincode"
                               value="@ViewBag.PinCode"
                               readonly="readonly"
                               class="textboxStyleSearch valid"
                               style="width: 100%;visibility:hidden; " />
                    </td>
                </tr>



            </table>
            <table class="myTableStyleTabNew" align="center">
                <tr>
                    <td>
                        <div>
                            <button type="button" id="btnsave" class="btn btn-primary" value="Save" onclick="EditBranchDetails()"><span class="glyphicon glyphicon-floppy-disk" style="color:white;"></span> Save</button>
                        </div>
                    </td>
                    <td>
                        <div>
                            <button type="button" class="btn btn-warning" value="Cancel" onclick="GotoIndex()"><span style="color:white;" class="glyphicon glyphicon-remove-sign"></span> Cancel</button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
}
<script>
    $(document).ready(function () {

        $(function () {
            $("#TravelClassIdAdd").focus();
        });
        $("#Pincode_id").chosen({});

        $("#Pincode_id_chosen,").addClass("mychosen").css('width', '100%');

    });
    function EditBranchDetails() {

        //var BranchName = $("#BranchNameId").val();
        //var BranchTypeId = $("#BranchTypeId option:selected").val();
        //var oldbranchcode = $("#OldBranchCode").val();
        //var BranchCode = $("#BranchCodeId").val();
        //var BranchTier = $("#BranchTier").val();
        //var employee_gid = $("#EmployeeId").val();
        //var StartDate = $("#StartDate").val();
        //var EndDate = $("#EndDate").val();
        //var Location = $("#locationId option:selected").val();
        //var LocationName = $("#locationId option:selected").text();
        //var City_gid = $("#CityId option:selected").val();
        //var City = $("#CityId option:selected").text();
        //var EmployeeId = $("#EmployeeId").val();
        //var BranchAddress = $("#BranchAddress").val();
        //var BranchFlag = $("#BranchId option:selected").text();
        //var ActiveStatusId = $("#ActiveStatusId option:selected").text();
        //var startleasedate = $("#txtStartLeaseDate").val();
        //var endleasedate = $("#txtEndLeaseDate").val();
        //var pincode = $("#txtpincode").val();

        //Pandiaraj GSTIN add
        if ($("#BranchAddress").val().trim() == "" || $("#BranchAddress").val() == null) {
          //  alert($("#BranchAddress").val());
            $("#BranchAddress").val(' ');
            
        }
        var BranchName = $("#BranchNameId").val();
        var BranchTypeId = $("#BranchTypeId option:selected").val();
        var oldbranchcode = $("#OldBranchCode").val();
        var BranchCode = $("#BranchCodeId").val();
        var BranchTier = $("#BranchTier").val();
        var employee_gid = $("#EmployeeId").val();
        var StartDate = $("#StartDate").val();
        var EndDate = $("#EndDate").val();
        var Location = $("#txtstate_gid").val();
        var LocationName = $("#txtstate").val(); 
        var City_gid = $("#City_gid").val();
        var City = $("#City").val();
        var EmployeeId = $("#EmployeeId").val();
        var BranchAddress = $("#BranchAddress").val();
        var BranchFlag = $("#BranchId option:selected").text();
        var ActiveStatusId = $("#ActiveStatusId option:selected").text();
        var startleasedate = $("#txtStartLeaseDate").val();
        var endleasedate = $("#txtEndLeaseDate").val();
        var pincode = $("#txtpincode").val();
        var gstin = $("#txtgsttin").val();
        var District_gid = $("#txtdistrict_gid").val();
        var District = $("#txtdistrict").val();
        var state_gid = $("#txtstate_gid").val();
        var state = $("#txtstate").val();
        var branch = {
            "BranchName": BranchName,
            "Branchtype_gid": BranchTypeId,
            "BranchCode": BranchCode,
            "BranchTier": BranchTier,
            "EmployeeId": employee_gid,
            "StartDate": StartDate,
            "ClosedDate": EndDate,
            "City_gid": City_gid,
            "City": City,
            "Location_gid": Location,
            "BranchAddress": BranchAddress,
            "Branchfl": BranchFlag,
            "ActiveStatus": ActiveStatusId,
            "BranchTier": BranchTier,
            "LocationName": LocationName,
            "OldBranchCode": oldbranchcode,
            "StartLeaseDate": startleasedate,
            "EndLeaseDate": endleasedate,
            "PinCode": pincode,
            "gstin": gstin,
            "District_gid": District_gid,
            "District": District,
            "state_gid": state_gid,
            "state": state,
        };

        //$.ajax({
        //    url: '../Branch/AddBranch',
        //    data: JSON.stringify(branch),
        //    type: 'POST',
        //    contentType: 'application/json; charset=utf-8',
        //    success: function (result) {
        //        isSuccess = result;
        //        jAlert(result, "Information", function (r) {
        //            if (r == true) {
        //                location = '../Branch/BranchIndex';
        //            }
        //        });

        //    },
        //})
        $.post('../Branch/EditBranch', branch,
               function (data) {

                   jAlert(data, "Information", function (r) {
                       if (r == true) {
                           location = '../Branch/BranchIndex';
                       }
                   });
               }

          , 'json');
    }
    function EmployeeSearchBranch() {
        var url = "@(Html.Raw(Url.Action("EmployeeSearch", "Branch")))";
        objDialogybranchempse.load(url + '?' + new Date().getTime());
        objDialogybranchempse.dialog({
            title: 'Employee Search ', 'width': 830, show: 'fade-in', close: 'fade-out', modal: true, resizable: false, cache: false, autoOpen: false, 'height': 510
        });
        objDialogybranchempse.dialog("open");
    }
    function GotoIndex() {
        window.parent.jQuery('#ForPartialViewBranch').dialog('close');
        $('#gridBranchClassid').find('tr').css('background', 'none');
    }
    $(".ui-icon-closethick").click(function () {
        $('#gridBranchClassid').find('tr').css('background', 'none');
    });
    $(document).ready(function () {
        $("#StartDate").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: 'dd-mm-yy',
            onSelect: function (selected) {

                var dt = $('#StartDate').val();
                var dt1 = $('#EndDate').val();
                $("#StartDate").addClass('valid');
                $("#EndDate").datepicker("option", "minDate", selected)
            }
        })
        $("#EndDate").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: 'dd-mm-yy',

            onSelect: function (selected) {
                var dt = $('#StartDate').val();
                var dt1 = $('#EndDate').val();
                $("#EndDate").addClass('valid');
            }
        });
    });
    $("#txtStartLeaseDate").datepicker({
        changeMonth: true,
        changeYear: true,
        dateFormat: 'dd-mm-yy',
        onSelect: function (selected) {

            var dt = $('#txtStartLeaseDate').val();
            var dt1 = $('#txtEndLeaseDate').val();
            $("#txtStartLeaseDate").addClass('valid');
            $("#txtEndLeaseDate").datepicker("option", "minDate", selected)
        }
    })
    $("#txtEndLeaseDate").datepicker({
        changeMonth: true,
        changeYear: true,
        dateFormat: 'dd-mm-yy',

        onSelect: function (selected) {
            var dt = $('#txtEndLeaseDate').val();
            var dt1 = $('#txtStartLeaseDate').val();
            $("#txtStartLeaseDate").addClass('valid');
        }
    });
    $("#StartDate").change(function () {
        var txtContractTo = $("#StartDate").val();
        if (txtContractTo.trim() != "") {
            $("#StartDate").removeClass('required');
            $("#StartDate").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#StartDate").removeClass('valid');
            $("#StartDate").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#EndDate").change(function () {
        var txtContractTo = $("#EndDate").val();
        if (txtContractTo.trim() != "") {
            $("#EndDate").removeClass('required');
            $("#EndDate").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#EndDate").removeClass('valid');
            $("#EndDate").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#BranchCodeId").keyup(function () {
        var txtContractTo = $("#BranchCodeId").val();
        if (txtContractTo.trim() != "") {
            $("#BranchCodeId").removeClass('required');
            $("#BranchCodeId").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#BranchCodeId").removeClass('valid');
            $("#BranchCodeId").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#BranchAddress").keyup(function () {
        var txtContractTo = $("#BranchAddress").val();
        if (txtContractTo.trim() != "") {
            $("#BranchAddress").removeClass('required');
            $("#BranchAddress").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#BranchAddress").removeClass('valid');
            $("#BranchAddress").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#BranchNameId").keyup(function () {
        var txtContractTo = $("#BranchNameId").val();
        if (txtContractTo.trim() != "") {
            $("#BranchNameId").removeClass('required');
            $("#BranchNameId").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#BranchNameId").removeClass('valid');
            $("#BranchNameId").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#BranchTypeId").change(function () {
        var txtContractTo = $("#BranchTypeId").val();
        if (txtContractTo.trim() != "") {
            $("#BranchTypeId").removeClass('required');
            $("#BranchTypeId").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#BranchTypeId").removeClass('valid');
            $("#BranchTypeId").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#BranchId").change(function () {
        var txtContractTo = $("#BranchId").val();
        if (txtContractTo.trim() != "") {
            $("#BranchId").removeClass('required');
            $("#BranchId").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#BranchId").removeClass('valid');
            $("#BranchId").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#BranchTier").keyup(function () {
        var txtContractTo = $("#BranchTier").val();
        if (txtContractTo.trim() != "") {
            $("#BranchTier").removeClass('required');
            $("#BranchTier").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#BranchTier").removeClass('valid');
            $("#BranchTier").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#CityId").change(function () {
        var txtContractTo = $("#CityId").val();
        if (txtContractTo.trim() != "") {
            $("#CityId").removeClass('required');
            $("#CityId").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#CityId").removeClass('valid');
            $("#CityId").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#locationId").keyup(function () {
        var txtContractTo = $("#locationId").val();
        if (txtContractTo.trim() != "") {
            $("#locationId").removeClass('required');
            $("#locationId").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#locationId").removeClass('valid');
            $("#locationId").addClass('required');
            CheckFieldsHeader();
        }
    });
    $("#ActiveStatusId").change(function () {
        var txtContractTo = $("#ActiveStatusId").val();
        if (txtContractTo.trim() != "") {
            $("#ActiveStatusId").removeClass('required');
            $("#ActiveStatusId").addClass('valid');
            CheckFieldsHeader();
        }
        else {
            $("#ActiveStatusId").removeClass('valid');
            $("#ActiveStatusId").addClass('required');
        }
    });
    function CheckFieldsHeader() {

        var ErrCount = 0;
        if ($("#BranchIncharge").val().trim() == "" || $("#BranchIncharge").val() == null) {
            ErrCount = 11;
        }
        if ($("#ActiveStatusId").val().trim() == "" || $("#ActiveStatusId").val() == null) {

            ErrCount = 1;
        }
        if ($("#locationId").val().trim() == "" || $("#locationId").val() == null) {

            ErrCount = 2;
        }
        if ($("#CityId").val().trim() == "" || $("#CityId").val() == null) {

            ErrCount = 3;
        }
        if ($("#BranchId").val().trim() == "" || $("#BranchId").val() == null) {

            ErrCount = 5;
        }
        if ($("#BranchTypeId").val().trim() == "" || $("#BranchTypeId").val() == null) {

            ErrCount = 6;
        }
        if ($("#BranchNameId").val().trim() == "" || $("#BranchNameId").val() == null) {

            ErrCount = 7;
        }
        if ($("#BranchCodeId").val().trim() == "" || $("#BranchCodeId").val() == null) {

            ErrCount = 8;
        }
        if ($("#BranchAddress").val().trim() == "" || $("#BranchAddress").val() == null) {
            $("#BranchAddress").val('NA');
            ErrCount = 9;
        }
        if ($("#BranchTier").val().trim() == "" || $("#BranchTier").val() == null) {

            ErrCount = 10;
        }
        if (ErrCount == 0) {

            $("#btnsave").removeAttr('disabled');
        }
        else {
            $("#btnsave").attr('disabled', 'disabled');
        }
    }
    function isNumber(evt) {
        
        evt = (evt) ? evt : window.event;
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    }
    function checkpin() {
        var element = document.getElementById("Pincode_id");
        //  var pinlist = (element.options[element.selectedIndex].text).split(',');
        var pinlist = (document.getElementById("Pincode_id").value).split('~');
        var str = document.getElementById("Pincode_id").value;
        var gst = str.split('~');
        var ss = gst.length;        
        gst = gst.splice(ss - 1, gst.length - 1)
        document.getElementById("txtdistrict_gid").value = "";
        document.getElementById("txtdistrict").value = "";
        document.getElementById("txtstate_gid").value = "";
        document.getElementById("txtstate").value = "";
        document.getElementById("txtgsttin").value = "";
        document.getElementById("txtpincode").value = "";
        
        var district_id = pinlist[0]; 
        var district = pinlist[1];
        var state_gid = pinlist[2];
        var state = pinlist[3];
        var gsttin = gst;
        var pincode_code = element.value;
       // alert(pincode_code);
        var vSkill = document.getElementById('Pincode_id');

        var vSkillText = vSkill.options[vSkill.selectedIndex].innerHTML;
        //alert(district_id);
        //alert(district);
        //alert(state_gid);
        //alert(state);
        //alert(gsttin);
        
       
        document.getElementById("txtdistrict_gid").value=district_id
        document.getElementById("txtdistrict").value = district;
        document.getElementById("txtstate_gid").value = state_gid
        document.getElementById("txtstate").value = state;
        document.getElementById("txtgsttin").value = gsttin;
        document.getElementById("txtpincode").value = vSkillText;
    }



</script>
